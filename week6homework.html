<html>
    <head></head>
    <body>
        <h1>Week Six Homework</h1>
        <!-- This week we are going to build a company information app using AlphaVantage's APIs -->

        <!-- This input accepts a stock symbol e.g. TSLA, GOOGL, AMZN  -->
        <input id="ticker" placeholder="Symbol">

        <section id="companyInfo">
            <p>
                Name: <span id="companyName"></span>
            </p>
            <p>
                Exchange: <span id="exchange"></span>
            </p>
            <p>
                Address: <span id="address"></span>
            </p>
            <p>
                Number of Employees: <span id="employees"></span>
            </p>
            <p>
                Market Capitalisation: <span id="marketCap"></span>
            </p>
            <p>
                EBITDA: <span id="ebitda"></span>
            </p>
        </section>
        <h2></h2>
        <script>
            // Q1: Add an event listener for input#ticker and check if event.key === 'Enter'
            document.getElementById('ticker').addEventListener('keydown', (event) => {
                if (event.key === 'Enter') {
                    tickerInput = document.getElementById('ticker').value
                    fetch(`https://www.alphavantage.co/query?function=OVERVIEW&apikey=4W5JQZG01RFS3GT6&symbol=${tickerInput}`)
                    .then(response => response.json())
                    .then(data => {
                        console.log(data);
                        document.getElementById('companyName').textContent = data.Name;
                        document.getElementById('exchange').textContent = data.Exchange;
                        document.getElementById('address').textContent = data.Address;
                        document.getElementById('employees').textContent = data.FullTimeEmployees;
                        document.getElementById('marketCap').textContent = data.MarketCapitalization;
                        document.getElementById('ebitda').textContent = data.EBITDA;
                    })
                }
            })
                    // Q2. Use fetch to call https://www.alphavantage.co/query?function=OVERVIEW&apikey=4W5JQZG01RFS3GT6&symbol={ticker} where {ticker} is the value of input#ticker
                    // https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch
                    // then resolve the fetch promise with .then() and convert the response to json

                        // Q3. Resolve the json() promise with .then(). It has one argument 'data'
                        // https://developer.mozilla.org/en-US/docs/Web/API/Body/json

                            // Q4. use console.log to log out the value of data and check it in chrome inspector

                            // Q5. Set the textContent of span#companyName with the value data.Name
                            
                            // Q6. Set the textContent of span#address with the value data.Address

                            // Q7. Set the textContent of span#employees with the value data.FullTimeEmployees

                            // Q8. Set the textContent of span#marketCap with the value data.MarketCapitalization

                            // Q9. Set the textContent of span#ebitda with the value data.EBITDA
        </script>
    </body>
</html>